import { AxiosRequestConfig } from 'axios';
import { modelJobMetric, modelJobMetric2 } from '../examples';

const workflowList = [
  {
    id: 68420,
    uuid: 'u8b4f360a5c2a4bb8b7c',
    name: 'predict-job-3',
    project_id: 31,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1],
    job_ids: [1256],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'COMPLETED',
    start_at: 1624521291,
    stop_at: null,
    created_at: 1624521217,
    updated_at: 1624521291,
    extra: null,
    cron_config: '9 23 ? * 3',
  },
  {
    id: 68419,
    uuid: 'u58da83ffb383465fa40',
    name: 'wz-yyds1',
    project_id: 23,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1],
    job_ids: [],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'NEW',
    start_at: null,
    stop_at: null,
    created_at: 1624456941,
    updated_at: 1624456941,
    extra: null,
    cron_config: '28 2 * * ?',
  },
  {
    id: 68418,
    uuid: 'u33fb2a7366d746a4b4f',
    name: 'wz-yyds',
    project_id: 23,
    comment: null,
    metric_is_public: false,
    create_job_flags: null,
    job_ids: [],
    forkable: false,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'NEW',
    start_at: null,
    stop_at: null,
    created_at: 1624455371,
    updated_at: 1624455371,
    extra: '',
    cron_config: '',
  },
  {
    id: 68410,
    uuid: 'u9629530fb99844178e4',
    name: 'ot-server',
    project_id: 31,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1],
    job_ids: [1245],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'READY',
    start_at: null,
    stop_at: null,
    created_at: 1624279235,
    updated_at: 1624279235,
    extra: null,
    cron_config: '',
  },
  {
    id: 68361,
    uuid: 'ub81427e3f4634fc4874',
    name: 'e2e-test-121f880060caf986-copy',
    project_id: 31,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1, 1, 1],
    job_ids: [1143, 1144, 1145],
    forkable: true,
    forked_from: 68360,
    peer_create_job_flags: [1, 1, 1],
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'RUNNING',
    start_at: 1624458779,
    stop_at: null,
    created_at: 1623917337,
    updated_at: 1624458779,
    extra: null,
    cron_config: '',
  },
  {
    id: 68402,
    uuid: 'u00b486d9a80e486fae9',
    name: 'e2e-test-7f5830060cf2925',
    project_id: 31,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1, 1, 1],
    job_ids: [1234, 1235, 1236],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'INVALID',
    start_at: 1624189314,
    stop_at: 1624189330,
    created_at: 1624189243,
    updated_at: 1624276779,
    extra: null,
    cron_config: '',
  },
  {
    id: 68399,
    uuid: 'u20ae5a88618e4b2c880',
    name: 'e2e-test-1ee17d0060cf177c',
    project_id: 31,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1, 1, 1],
    job_ids: [1227, 1228, 1229],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'STOPPED',
    start_at: 1624188305,
    stop_at: 1624276386,
    created_at: 1624184722,
    updated_at: 1624276386,
    extra: null,
    cron_config: '',
  },
  {
    id: 68318,
    uuid: 'u1354c0b76c5441968a3',
    name: 'default-credit-13',
    project_id: 14,
    comment: null,
    metric_is_public: false,
    create_job_flags: [1, 1, 1, 1],
    job_ids: [1044, 1045, 1046, 1047],
    forkable: true,
    forked_from: null,
    peer_create_job_flags: null,
    recur_type: 'NONE',
    recur_at: null,
    trigger_dataset: null,
    last_triggered_batch: null,
    state: 'FAILED',
    start_at: 1623834767,
    stop_at: null,
    created_at: 1623834636,
    updated_at: 1623836863,
    extra: '',
    cron_config: '',
    is_local: false,
  },
];
const generateData = (index: any) => ({
  id: index,
  name: '测试模型' + index,
  version: index + 1,
  type: null,
  state: 1 + Math.floor(Math.random() * 6),
  job_name: 'job测试模型' + index,
  job: {
    config: null,
    created_at: 1626604927,
    deleted_at: null,
    error_message: null,
    flapp_snapshot: null,
    id: 9,
    is_disabled: false,
    job_type: 'TREE_MODEL_TRAINING',
    name: 'uf31970209a1c40b49b7-tree-model',
    pods: [],
    project_id: 1,
    sparkapp_snapshot: null,
    state: 'STARTED',
    updated_at: 1626604957,
    workflow_id: 15,
  },
  parent_id: null,
  params: null,
  metrics: index === 62 ? modelJobMetric : modelJobMetric2,
  /** model set id */
  group_id: index,
  extra: JSON.stringify({
    name: 'mock模型详情' + index,
    comment: '我是说明' + index,
    creator: '测试员',
  }),
  local_extra: JSON.stringify({
    'model.desc': '我是说明' + index,
    'model.dataset_id': index,
  }),
  detail_level: [],
  workflow: workflowList[Math.floor(Math.random() * workflowList.length)],

  created_at: 1608582145,
  updated_at: 1608582145,
  deleted_at: 1608582145,
});

export const post = (config: any) => {
  return { data: { data: config.data }, status: 200 };
};

const get = (config: AxiosRequestConfig) => {
  return {
    data: { data: generateData(Number(config._id! || 0) + 1) },
    status: 200,
  };
};

export default get;
