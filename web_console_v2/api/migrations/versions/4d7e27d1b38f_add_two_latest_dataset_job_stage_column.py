"""add two latest dataset_job_stage column

Revision ID: 4d7e27d1b38f
Revises: 0d6eb48014d8
Create Date: 2022-08-15 18:28:01.649154

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '4d7e27d1b38f'
down_revision = '0d6eb48014d8'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('data_batches_v2', sa.Column('latest_parent_dataset_job_stage_id', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='latest parent dataset_job_stage id'))
    op.add_column('data_batches_v2', sa.Column('latest_analyzer_dataset_job_stage_id', sa.Integer(), server_default=sa.text('0'), nullable=False, comment='latest analyzer dataset_job_stage id'))
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('data_batches_v2', 'latest_analyzer_dataset_job_stage_id')
    op.drop_column('data_batches_v2', 'latest_parent_dataset_job_stage_id')
    # ### end Alembic commands ###
