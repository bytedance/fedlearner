"""migration dataset

Revision ID: 5082991f34c7
Revises: c2a9703b8472
Create Date: 2022-10-12 18:55:33.760153

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = '5082991f34c7'
down_revision = 'c2a9703b8472'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('datasets_v2', sa.Column('auth_status', sa.Enum('PENDING', 'AUTHORIZED', 'WITHDRAW', name='authstatus', native_enum=False, length=64, create_constraint=False), nullable=True, comment='auth status'))
    op.add_column('datasets_v2', sa.Column('participants_info', sa.Text(), nullable=True, comment='participants info'))
    op.drop_column('datasets_v2', 'state')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('datasets_v2', sa.Column('state', mysql.VARCHAR(length=64), nullable=True, comment='state'))
    op.drop_column('datasets_v2', 'participants_info')
    op.drop_column('datasets_v2', 'auth_status')
    # ### end Alembic commands ###
