{
    "status": 0,
    "message": "ok",
    "data": {
      "metadata": {
        "name": "datasparsealldataonlinev3",
        "namespace": "leader",
        "selfLink": "/apis/fedlearner.k8s.io/v1alpha1/namespaces/leader/flapps/datasparsealldataonlinev3",
        "uid": "ea521472-87c8-11ea-85d7-b8599f525640",
        "resourceVersion": "24077956",
        "generation": 1,
        "creationTimestamp": "2020-04-26T14:19:18Z"
      },
      "spec": {
        "cleanPodPolicy": "None",
        "flReplicaSpecs": {
          "Master": {
            "replicas": 1,
            "pair": false,
            "template": {
              "metadata": {
                "creationTimestamp": null,
                "labels": {
                  "gdpr-secret": "datasparsealldataonlinev3"
                }
              },
              "spec": {
                "volumes": [
                  {
                    "name": "pyutil",
                    "hostPath": {
                      "path": "/opt/tiger/pyutil"
                    }
                  },
                  {
                    "name": "yarn-deploy",
                    "hostPath": {
                      "path": "/opt/tiger/yarn_deploy"
                    }
                  },
                  {
                    "name": "jdk",
                    "hostPath": {
                      "path": "/opt/tiger/jdk"
                    }
                  },
                  {
                    "name": "tmp",
                    "hostPath": {
                      "path": "/tmp"
                    }
                  },
                  {
                    "name": "opt-tmp",
                    "hostPath": {
                      "path": "/opt/tmp"
                    }
                  }
                ],
                "containers": [
                  {
                    "name": "tensorflow",
                    "image": "hub.byted.org/base/fedlearner.image.byted:44c8a32282eb860afce75716d2e833b7",
                    "command": [
                      "/opt/tiger/fedlearner_byted/deploy/scripts/trainer/run_customed_trainer_master.sh"
                    ],
                    "args": [
                      ""
                    ],
                    "ports": [
                      {
                        "name": "flapp-port",
                        "containerPort": 50051
                      }
                    ],
                    "env": [
                      {
                        "name": "APPLICATION_ID",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "SEC_TOKEN_PATH",
                        "value": "/etc/token/identity-token"
                      },
                      {
                        "name": "POD_IP",
                        "valueFrom": {
                          "fieldRef": {
                            "fieldPath": "status.podIP"
                          }
                        }
                      },
                      {
                        "name": "ROLE",
                        "value": "leader"
                      },
                      {
                        "name": "DAILY_BASE_DIR",
                        "value": "hdfs://haruna/ad_base/algo/user/luwei/fl_deep_cvr_origin_fid_part2/leader"
                      },
                      {
                        "name": "HOURLY_BASE_DIR",
                        "value": "hdfs://haruna/ad_base/algo/user/luwei/tfrecord_fl_deep_cvr_origin_fid_all_hourly/leader"
                      },
                      {
                        "name": "PEER_DAILY_BASE_DIR",
                        "value": "hdfs://haruna/ad_base/algo/user/luwei/fl_deep_cvr_origin_fid_part2/follower"
                      },
                      {
                        "name": "PEER_HOURLY_BASE_DIR",
                        "value": "hdfs://haruna/ad_base/algo/user/luwei/tfrecord_fl_deep_cvr_origin_fid_all_hourly/follower"
                      },
                      {
                        "name": "START_DATE",
                        "value": "2020041500"
                      },
                      {
                        "name": "END_DATE",
                        "value": "2020041700"
                      },
                      {
                        "name": "MODEL_NAME",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "TCE_PSM",
                        "value": "data.aml.fl"
                      },
                      {
                        "name": "TCE_PSM_GROUP",
                        "value": "default"
                      },
                      {
                        "name": "TCE_PSM_OWNER",
                        "value": "lilongyijia"
                      }
                    ],
                    "resources": {
                      "limits": {
                        "cpu": "4",
                        "memory": "4Gi"
                      },
                      "requests": {
                        "cpu": "4",
                        "memory": "4Gi"
                      }
                    },
                    "volumeMounts": [
                      {
                        "name": "pyutil",
                        "mountPath": "/opt/tiger/pyutil"
                      },
                      {
                        "name": "yarn-deploy",
                        "mountPath": "/opt/tiger/yarn_deploy"
                      },
                      {
                        "name": "jdk",
                        "mountPath": "/opt/tiger/jdk"
                      },
                      {
                        "name": "tmp",
                        "mountPath": "/tmp"
                      },
                      {
                        "name": "opt-tmp",
                        "mountPath": "/opt/tmp"
                      }
                    ],
                    "imagePullPolicy": "IfNotPresent"
                  }
                ],
                "restartPolicy": "Never"
              }
            }
          },
          "PS": {
            "replicas": 1,
            "pair": false,
            "template": {
              "metadata": {
                "creationTimestamp": null,
                "labels": {
                  "gdpr-secret": "datasparsealldataonlinev3"
                }
              },
              "spec": {
                "volumes": [
                  {
                    "name": "pyutil",
                    "hostPath": {
                      "path": "/opt/tiger/pyutil"
                    }
                  },
                  {
                    "name": "yarn-deploy",
                    "hostPath": {
                      "path": "/opt/tiger/yarn_deploy"
                    }
                  },
                  {
                    "name": "jdk",
                    "hostPath": {
                      "path": "/opt/tiger/jdk"
                    }
                  },
                  {
                    "name": "tmp",
                    "hostPath": {
                      "path": "/tmp"
                    }
                  },
                  {
                    "name": "opt-tmp",
                    "hostPath": {
                      "path": "/opt/tmp"
                    }
                  }
                ],
                "containers": [
                  {
                    "name": "tensorflow",
                    "image": "hub.byted.org/base/fedlearner.image.byted:44c8a32282eb860afce75716d2e833b7",
                    "command": [
                      "/opt/tiger/fedlearner_byted/deploy/scripts/trainer/run_trainer_ps.sh"
                    ],
                    "args": [
                      ""
                    ],
                    "ports": [
                      {
                        "name": "flapp-port",
                        "containerPort": 50051
                      }
                    ],
                    "env": [
                      {
                        "name": "SEC_TOKEN_PATH",
                        "value": "/etc/token/identity-token"
                      },
                      {
                        "name": "POD_NAME",
                        "valueFrom": {
                          "fieldRef": {
                            "fieldPath": "metadata.name"
                          }
                        }
                      },
                      {
                        "name": "POD_IP",
                        "valueFrom": {
                          "fieldRef": {
                            "fieldPath": "status.podIP"
                          }
                        }
                      },
                      {
                        "name": "MODEL_NAME",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "APPLICATION_ID",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "ROLE",
                        "value": "leader"
                      },
                      {
                        "name": "TCE_PSM",
                        "value": "data.aml.fl"
                      },
                      {
                        "name": "TCE_PSM_GROUP",
                        "value": "default"
                      },
                      {
                        "name": "TCE_PSM_OWNER",
                        "value": "lilongyijia"
                      }
                    ],
                    "resources": {
                      "limits": {
                        "cpu": "4",
                        "memory": "4Gi"
                      },
                      "requests": {
                        "cpu": "4",
                        "memory": "4Gi"
                      }
                    },
                    "volumeMounts": [
                      {
                        "name": "pyutil",
                        "mountPath": "/opt/tiger/pyutil"
                      },
                      {
                        "name": "yarn-deploy",
                        "mountPath": "/opt/tiger/yarn_deploy"
                      },
                      {
                        "name": "jdk",
                        "mountPath": "/opt/tiger/jdk"
                      },
                      {
                        "name": "tmp",
                        "mountPath": "/tmp"
                      },
                      {
                        "name": "opt-tmp",
                        "mountPath": "/opt/tmp"
                      }
                    ],
                    "imagePullPolicy": "IfNotPresent"
                  }
                ],
                "restartPolicy": "Never"
              }
            }
          },
          "Worker": {
            "replicas": 1,
            "pair": true,
            "template": {
              "metadata": {
                "creationTimestamp": null,
                "labels": {
                  "gdpr-secret": "datasparsealldataonlinev3"
                }
              },
              "spec": {
                "volumes": [
                  {
                    "name": "pyutil",
                    "hostPath": {
                      "path": "/opt/tiger/pyutil"
                    }
                  },
                  {
                    "name": "yarn-deploy",
                    "hostPath": {
                      "path": "/opt/tiger/yarn_deploy"
                    }
                  },
                  {
                    "name": "jdk",
                    "hostPath": {
                      "path": "/opt/tiger/jdk"
                    }
                  },
                  {
                    "name": "tmp",
                    "hostPath": {
                      "path": "/tmp"
                    }
                  },
                  {
                    "name": "opt-tmp",
                    "hostPath": {
                      "path": "/opt/tmp"
                    }
                  }
                ],
                "containers": [
                  {
                    "name": "tensorflow",
                    "image": "hub.byted.org/base/fedlearner.image.byted:44c8a32282eb860afce75716d2e833b7",
                    "command": [
                      "/opt/tiger/fedlearner_byted/deploy/scripts/wait4pair_wrapper.sh"
                    ],
                    "args": [
                      "/opt/tiger/fedlearner_byted/deploy/scripts/trainer/run_trainer_worker.sh"
                    ],
                    "ports": [
                      {
                        "name": "flapp-port",
                        "containerPort": 50051
                      },
                      {
                        "name": "tf-port",
                        "containerPort": 50052
                      }
                    ],
                    "env": [
                      {
                        "name": "SEC_TOKEN_PATH",
                        "value": "/etc/token/identity-token"
                      },
                      {
                        "name": "APPLICATION_ID",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "POD_IP",
                        "valueFrom": {
                          "fieldRef": {
                            "fieldPath": "status.podIP"
                          }
                        }
                      },
                      {
                        "name": "CODE_KEY",
                        "value": "http://tosv.byted.org/obj/fedlearner/data_sparse_all_data_online_debug.tar.gz"
                      },
                      {
                        "name": "ROLE",
                        "value": "leader"
                      },
                      {
                        "name": "EGRESS_URL",
                        "value": "ingress-nginx.ingress-nginx.svc.cluster.local:80"
                      },
                      {
                        "name": "ETCD_CLUSTER",
                        "value": "abc"
                      },
                      {
                        "name": "ETCD_ADDRESS",
                        "value": "10.10.73.87:2379"
                      },
                      {
                        "name": "TCE_PSM",
                        "value": "data.aml.fl"
                      },
                      {
                        "name": "TCE_PSM_GROUP",
                        "value": "default"
                      },
                      {
                        "name": "TCE_PSM_OWNER",
                        "value": "lilongyijia"
                      },
                      {
                        "name": "TCE_CLUSTER",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "MODEL_NAME",
                        "value": "datasparsealldataonlinev3"
                      },
                      {
                        "name": "USER_ARGS"
                      }
                    ],
                    "resources": {
                      "limits": {
                        "cpu": "8",
                        "memory": "16Gi"
                      },
                      "requests": {
                        "cpu": "8",
                        "memory": "16Gi"
                      }
                    },
                    "volumeMounts": [
                      {
                        "name": "pyutil",
                        "mountPath": "/opt/tiger/pyutil"
                      },
                      {
                        "name": "yarn-deploy",
                        "mountPath": "/opt/tiger/yarn_deploy"
                      },
                      {
                        "name": "jdk",
                        "mountPath": "/opt/tiger/jdk"
                      },
                      {
                        "name": "tmp",
                        "mountPath": "/tmp"
                      },
                      {
                        "name": "opt-tmp",
                        "mountPath": "/opt/tmp"
                      }
                    ],
                    "imagePullPolicy": "IfNotPresent"
                  }
                ],
                "restartPolicy": "Never"
              }
            }
          }
        },
        "role": "Leader",
        "peerSpecs": {
          "Follower": {
            "peerURL": "ingress-nginx.ingress-nginx.svc.cluster.local:80",
            "authority": "follower.flapp.operator",
            "extraHeaders": {
              "x-host": "follower.flapp.operator"
            }
          }
        }
      },
      "status": {
        "appState": "FLStateFailed",
        "flReplicaStatus": {
          "Master": {
            "local": {
              "datasparsealldataonlinev3-leader-master-0": {}
            },
            "remote": {},
            "mapping": {},
            "active": {
              "datasparsealldataonlinev3-leader-master-0-43bbea9f-eb1f-4118-aea8-7df81b79dd25": {}
            },
            "succeeded": {},
            "failed": {}
          },
          "PS": {
            "local": {
              "datasparsealldataonlinev3-leader-ps-0": {}
            },
            "remote": {},
            "mapping": {},
            "active": {
              "datasparsealldataonlinev3-leader-ps-0-94c91f38-871a-4f4b-98d5-ffe54df6ba9d": {}
            },
            "succeeded": {},
            "failed": {}
          },
          "Worker": {
            "local": {
              "datasparsealldataonlinev3-leader-worker-0": {}
            },
            "remote": {
              "datasparsealldataonlinev3-follower-worker-0": {}
            },
            "mapping": {
              "datasparsealldataonlinev3-leader-worker-0": "datasparsealldataonlinev3-follower-worker-0"
            },
            "active": {
              "datasparsealldataonlinev3-leader-worker-0-2d6fab47-e4b1-40f6-bdea-ac95972771de": {}
            },
            "succeeded": {},
            "failed": {}
          }
        }
      }
    }
  }